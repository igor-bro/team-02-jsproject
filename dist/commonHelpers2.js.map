{"version":3,"file":"commonHelpers2.js","sources":["../src/js/main.js","../src/js/motivation.js","../src/js/exercisesgallery.js","../src/js/footer.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst loader = document.querySelector('.loader');\r\n\r\naxios.interceptors.request.use(\r\n  request => {\r\n    loader.style.display = 'inline-block';\r\n    return request;\r\n  },\r\n  error => console.error(error)\r\n);\r\n\r\naxios.interceptors.response.use(\r\n  response => {\r\n    loader.style.display = 'none';\r\n    return response;\r\n  },\r\n  error => Promise.reject(error)\r\n);\r\n\r\n// –ö–Ω–æ–ø–∫–∞ —Å–∫—Ä–æ–ª—É –¥–æ–≥–æ—Ä–∏\r\nconst backToTopBtn = document.querySelector('.back-to-top');\r\n\r\nconst animateScrollTop = () => {\r\n  const distance = Math.max(\r\n    document.documentElement.scrollTop,\r\n    document.body.scrollTop\r\n  );\r\n\r\n  if (distance > 0) {\r\n    window.requestAnimationFrame(animateScrollTop);\r\n    window.scrollTo(0, distance - distance / 8);\r\n  }\r\n};\r\n\r\nbackToTopBtn.addEventListener('click', animateScrollTop);\r\n\r\nwindow.addEventListener('scroll', () => {\r\n  const scrolled =\r\n    window.pageYOffset ||\r\n    document.documentElement.scrollTop ||\r\n    document.body.scrollTop;\r\n\r\n  if (scrolled > 350) {\r\n    backToTopBtn.classList.add('active');\r\n  } else {\r\n    backToTopBtn.classList.remove('active');\r\n  }\r\n});\r\n// –ö–Ω–æ–ø–∫–∞ —Å–∫—Ä–æ–ª—É –¥–æ–≥–æ—Ä–∏\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nvar audio = document.getElementById('myAudio');\r\n\r\nfunction playAudio() {\r\n  audio.play();\r\n}\r\n\r\nfunction pauseAudio() {\r\n  audio.pause();\r\n}\r\n\r\nfunction stopAudio() {\r\n  audio.pause();\r\n  audio.currentTime = 0;\r\n}\r\n\r\naudio.addEventListener('ended', function () {\r\n  // –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è\r\n  iziToast.show({\r\n    title: 'Lets do it!',\r\n    message: 'Subscribe in the bottom, and learn about new exercises!',\r\n    position: 'bottomCenter',\r\n    timeout: 10000, // –ß–∞—Å –≤–∏–≤–µ–¥–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö (5 —Å–µ–∫—É–Ω–¥ —É —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É)\r\n    backgroundColor: 'var( --dark-gray-hover)',\r\n    messageColor: 'var( --white-smoke)',\r\n  });\r\n});\r\n","import axios from 'axios';\r\nimport iziToast from 'izitoast';\r\nimport { openModalWindEx } from './modal-window-exercise.js';\r\n\r\nconst exercisesTitle = document.querySelector('.exercises-gallery-label');\r\nconst exercisesGallery = document.querySelector('.exercises-gallery-group');\r\nconst filterButton = document.querySelector('.exercises-gallery-filter');\r\nconst pageButtonsContainer = document.querySelector('.page-buttons-container');\r\nlet titleExerciseSpan = null;\r\nconst titleExerciseSlash = document.createElement('span');\r\nconst inputSearchValue = document.querySelector('#filtre-key');\r\nconst searchExerciseForm = document.querySelector('.search-tool');\r\nconst searchButton = document.querySelector('.icon-search');\r\nconst svgArrowUrl = new URL('/img/sprite.svg#icon-arrow', import.meta.url);\r\nconst svgStarUrl = new URL('/img/sprite.svg#icon-Star-1', import.meta.url);\r\nconst svgLigthUrl = new URL('/img/sprite.svg#icon-lighticon', import.meta.url);\r\n\r\nconst cardErrorMessage = document.querySelector('.error-card-message');\r\n\r\nconst BASE_URL = 'https://energyflow.b.goit.study/api/';\r\nlet page = 1;\r\n\r\nconst pageContent = {\r\n  content: null,\r\n  title: null,\r\n};\r\n\r\nconst baseURL = 'https://energyflow.b.goit.study/api/filters';\r\nlet urlOptions = {\r\n  filter: 'Muscles',\r\n  page: 1,\r\n  limit: 8,\r\n};\r\nlet workoutCountPages = 0;\r\nlet isSearchFormActive = false;\r\nlet toggle = 'filter';\r\nconst defaultFilter = 'muscles';\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseURL,\r\n});\r\n\r\nfilterButton.addEventListener('click', function (event) {\r\n  clearExerciseTitle();\r\n  closeErrorMessage();\r\n  workoutCountPages = 0;\r\n  searchExerciseForm.style.display = 'none';\r\n  if (event.target.tagName === 'BUTTON') {\r\n    toggle = 'filter';\r\n    const buttonName = event.target.getAttribute('name');\r\n    handleWindowResize();\r\n    handleFilter(buttonName);\r\n  }\r\n});\r\n\r\nexercisesGallery.addEventListener('click', event => {\r\n  event.preventDefault();\r\n  const cardElement = event.target.closest('.exercises-item-background');\r\n\r\n  if (cardElement) {\r\n    toggle = 'workout';\r\n    searchExerciseForm.style.display = 'flex';\r\n    const name = cardElement.querySelector('.name-card').textContent;\r\n    let filter = cardElement\r\n      .querySelector('.type-card')\r\n      .textContent.toLowerCase()\r\n      .replace(/\\s/g, '');\r\n    if (filter === 'bodyparts') {\r\n      filter = filter.slice(0, -1);\r\n    }\r\n\r\n    handleWindowResize();\r\n    buildWorkoutGallery(name, filter);\r\n\r\n    if (workoutCountPages === 0) return;\r\n    if (workoutCountPages >= 3) {\r\n      renderPagesIcon(3);\r\n    } else {\r\n      renderPagesIcon(workoutCountPages);\r\n    }\r\n  }\r\n});\r\n\r\npageButtonsContainer.addEventListener('click', function (event) {\r\n  const clickedButton = event.target.closest('.page-button');\r\n\r\n  if (clickedButton) {\r\n    const buttonValue = clickedButton.id;\r\n\r\n    changeActivePageButton(buttonValue);\r\n  }\r\n});\r\n\r\nfunction handleFilter(buttonName) {\r\n  searchExerciseForm.style.display = 'none';\r\n\r\n  let selectedFilter = {};\r\n  galleryForDesktop();\r\n  switch (buttonName) {\r\n    case 'body':\r\n      urlOptions.filter = 'Body parts';\r\n      selectedFilter = filterButton.querySelectorAll(\r\n        `button[name=\"${buttonName}\"]`\r\n      );\r\n      break;\r\n    case 'equipment':\r\n      urlOptions.filter = 'Equipment';\r\n      selectedFilter = filterButton.querySelectorAll(\r\n        `button[name=\"${buttonName}\"]`\r\n      );\r\n      break;\r\n    default:\r\n      urlOptions.filter = 'Muscles';\r\n      selectedFilter = filterButton.querySelectorAll(\r\n        `button[name=\"${buttonName}\"]`\r\n      );\r\n  }\r\n  changeFilterColor(selectedFilter);\r\n\r\n  const queryStr = new URLSearchParams(urlOptions).toString();\r\n  const apiUrl = `?${queryStr}`;\r\n  fetchExercises(apiUrl)\r\n    .then(images => renderExercises(images))\r\n    .then(imgages => renderPagesIcon(imgages.totalPages, 1))\r\n    .catch(error => console.error(error));\r\n}\r\n\r\nfunction changeFilterColor(selectedFilter) {\r\n  const buttons = filterButton.querySelectorAll('button');\r\n  const selectedFilterArray = Array.from(selectedFilter);\r\n  for (let i = 0; i < buttons.length; i++) {\r\n    const currentButton = buttons[i];\r\n    if (selectedFilterArray.includes(currentButton)) {\r\n      currentButton.style.backgroundColor = 'var(--dark-gray)';\r\n      currentButton.style.color = 'var(--white)';\r\n    } else {\r\n      currentButton.style.backgroundColor = 'var(--white-smoke)';\r\n      currentButton.style.color = 'var(--black)';\r\n    }\r\n  }\r\n}\r\n\r\nfunction fetchUrl() {\r\n  const queryStr = new URLSearchParams(urlOptions).toString();\r\n  const apiUrl = `?${queryStr}`;\r\n  fetchExercises(apiUrl)\r\n    .then(images => renderExercises(images))\r\n    .catch(error => console.error(error));\r\n}\r\n\r\nasync function fetchExercises(apiUrl) {\r\n  try {\r\n    const response = await axiosInstance.get(apiUrl);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nasync function getListExercisesByName(queryParams) {\r\n  try {\r\n    const res = await axios.get(`${BASE_URL}exercises`, {\r\n      params: queryParams,\r\n    });\r\n    const { totalPages, results } = res.data;\r\n    if (results.length == 0) {\r\n      exercisesGallery.innerHTML = '';\r\n      openErrorMessage();\r\n      return;\r\n    }\r\n    let renderExersisesByName = results.reduce((html, image) => {\r\n      exercisesGallery.innerHTML = '';\r\n      pageButtonsContainer.innerHTML = '';\r\n      const ratingRow = ratingStarRow(image.rating);\r\n      const ratingNumber = Number(image.rating).toFixed(1);\r\n      return (\r\n        html +\r\n        `<li class=\"gallery-item-list\">\r\n          <button type=\"button\" class=\"gallery-button-item\" data-exercise-id=${image._id}>\r\n              <div class=\"workout-header-wrap\">\r\n                  <div class=\"workout-and-rating\">\r\n                    <p class=\"workout-item-title\">WORKOUT</p>\r\n                    <p class=\"rating-title-item\">${ratingNumber}\r\n                        ${ratingRow}\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"start-button-wrap\">Start\r\n                      <svg class=\"start-workout-icon\" width=\"14\" height=\"14\" aria-label=\"start-arrow\">\r\n                          <use href=${svgArrowUrl}></use>\r\n                      </svg>\r\n                  </div>\r\n              </div>\r\n              <div class=\"workout-type-item\">\r\n                <svg  width=\"24\" height=\"24\" aria-label=\"run-man\">\r\n                    <use href=${svgLigthUrl}></use>\r\n                </svg>\r\n                <p class=\"workout-name-item\">${image.name}</p>\r\n              </div>\r\n              <div class=\"workout-items-box\">\r\n\r\n              <div class=\"workout-description\">\r\n                  <p class=\"description-item-name\">Burned calories:\r\n                      <span class=\"description-item-value\">${image.burnedCalories} / ${image.time} min</span>\r\n                  </p>\r\n                  <p class=\"description-item-name\">Body part:\r\n                      <span class=\"description-item-value\">${image.bodyPart}</span>\r\n                  </p>\r\n                  <p class=\"description-item-name\">Target:\r\n                      <span class=\"description-item-value\">${image.target}</span>\r\n                  </p>\r\n              </div> \r\n            </button>\r\n          </li>`\r\n      );\r\n    }, '');\r\n\r\n    workoutCountPages = res.data.totalPages;\r\n    exercisesGallery.innerHTML = '';\r\n\r\n    exercisesGallery.insertAdjacentHTML('beforeend', renderExersisesByName);\r\n\r\n    exercisesGallery.addEventListener('click', async event => {\r\n      let id;\r\n      const clickedButton = event.target;\r\n      if (clickedButton && clickedButton.closest('.gallery-button-item')) {\r\n        id = clickedButton\r\n          .closest('.gallery-button-item')\r\n          .getAttribute('data-exercise-id');\r\n        await openModalWindEx(id);\r\n      }\r\n    });\r\n    toggle = 'workout';\r\n\r\n    if (totalPages < 3) {\r\n      renderPagesIcon(totalPages, queryParams.page);\r\n    } else {\r\n      renderPagesIcon(3, queryParams.page);\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nfunction renderExercises(images) {\r\n  exercisesGallery.innerHTML = '';\r\n  const newImages = images.results.map(image => {\r\n    return `<li class=\"exercises-item-background\">\r\n      <a href=\"${image.imgUrl}\">\r\n      <div>\r\n        <img\r\n          class=\"exercises-item\"\r\n          src=\"${image.imgUrl}\"\r\n          alt=\"${image.name}\">\r\n          <div class=\"text-card\">\r\n          <p class = \"name-card\">${image.name}</p>\r\n          <p class = \"type-card\">${image.filter}</p>\r\n          </div>\r\n          </div>\r\n      </a>\r\n    </li>`;\r\n  });\r\n\r\n  exercisesGallery.insertAdjacentHTML('beforeend', newImages.join(''));\r\n  return images;\r\n}\r\n\r\nfunction renderPagesIcon(totalPages, activePage) {\r\n  let pagesMarkup = '';\r\n  pageButtonsContainer.innerHTML = '';\r\n  for (let i = 1; i <= totalPages; i++) {\r\n    if (i == activePage) {\r\n      pagesMarkup += `<li>\r\n      <button class=\"page-button active\" type=\"button\" id=\"${i}\">${i}</button>\r\n    </li>`;\r\n    } else {\r\n      pagesMarkup += `<li>\r\n      <button class=\"page-button\" type=\"button\" id=\"${i}\">${i}</button>`;\r\n    }\r\n  }\r\n  pageButtonsContainer.insertAdjacentHTML('afterbegin', pagesMarkup);\r\n}\r\n\r\nfunction changeActivePageButton(index) {\r\n  const buttons = document.querySelectorAll('.page-button');\r\n\r\n  buttons.forEach(button => {\r\n    if (button.id === index) {\r\n      button.classList.add('active');\r\n      switch (toggle) {\r\n        case 'filter':\r\n          urlOptions.page = index;\r\n          fetchUrl();\r\n          break;\r\n        case 'workout':\r\n          page = index;\r\n          const cardQueryParams = { limit: adjustLimit(), page: page };\r\n          cardQueryParams[pageContent.content] = pageContent.title;\r\n          getListExercisesByName(cardQueryParams);\r\n          break;\r\n      }\r\n    } else {\r\n      button.classList.remove('active');\r\n    }\r\n  });\r\n}\r\n\r\nfunction galleryForDesktop() {\r\n  const widthScreen = document.documentElement.clientWidth;\r\n\r\n  if (widthScreen >= 1440) {\r\n    urlOptions.page = 1;\r\n    urlOptions.limit = 12;\r\n  } else {\r\n    urlOptions.page = 1;\r\n    urlOptions.limit = 8;\r\n  }\r\n}\r\n\r\nfunction cleanAll() {\r\n  closeErrorMessage();\r\n  clearExerciseTitle();\r\n  exercisesGallery.innerHTML = '';\r\n  pageButtonsContainer.innerHTML = '';\r\n}\r\n\r\nfunction ratingStarRow(rating) {\r\n  let row = '';\r\n  rating = Math.round(rating);\r\n  for (let index = 0; index < rating; index++) {\r\n    row += `\r\n        <span class=\"rating-star-icon\">\r\n            <svg class=\"rating-star\" width=\"18\" height=\"18\" aria-label=\"rating-star\">\r\n                   <use href=${svgStarUrl}></use>\r\n            </svg>\r\n        </span>`;\r\n  }\r\n  return row;\r\n}\r\n\r\n/* Search function */\r\nsearchButton.addEventListener('click', event => {\r\n  event.preventDefault();\r\n  const searchValue = inputSearchValue.value.trim();\r\n  doSearchExercise(searchValue);\r\n});\r\n\r\nsearchExerciseForm.addEventListener('focus', () => {\r\n  isSearchFormActive = true;\r\n});\r\n\r\nsearchExerciseForm.addEventListener('blur', () => {\r\n  isSearchFormActive = false;\r\n});\r\n\r\nsearchExerciseForm.addEventListener('keypress', event => {\r\n  if (event.key === 'Enter') {\r\n    event.preventDefault();\r\n    const searchValue = inputSearchValue.value.trim();\r\n    doSearchExercise(searchValue);\r\n  }\r\n});\r\n\r\nfunction doSearchExercise(searchValue) {\r\n  if (searchValue.length === 0) {\r\n    iziToast.error({\r\n      title: 'Error',\r\n      position: 'topRight',\r\n      message: 'Sorry, Please choose an exercise.',\r\n      backgroundColor: 'var(--dark-gray-hover)',\r\n      messageColor: 'var(--white-smoke)',\r\n    });\r\n    return;\r\n  }\r\n  cleanAll();\r\n\r\n  const cardQueryParams = {\r\n    limit: adjustLimit(),\r\n    page: 1, // Reset page to 1 when submitting the form\r\n    keyword: searchValue,\r\n  };\r\n\r\n  cardQueryParams[pageContent.content] = pageContent.title;\r\n  inputSearchValue.value = '';\r\n  getListExercisesByName(cardQueryParams);\r\n}\r\n\r\nfunction openErrorMessage() {\r\n  cardErrorMessage.style.display = 'block';\r\n}\r\n\r\nfunction closeErrorMessage() {\r\n  cardErrorMessage.style.display = 'none';\r\n}\r\n\r\nfunction buildWorkoutGallery(title, filter) {\r\n  pageContent.title = title;\r\n  pageContent.content = filter;\r\n  page = 1;\r\n  const cardQueryParams = { limit: adjustLimit(), page: page };\r\n  cardQueryParams[pageContent.content] = title;\r\n  updateTitle(title);\r\n  getListExercisesByName(cardQueryParams);\r\n}\r\n\r\nfunction updateTitle(title) {\r\n  titleExerciseSpan = document.createElement('span');\r\n  titleExerciseSpan.classList.add('exercise-title-card');\r\n  titleExerciseSpan.innerHTML = title;\r\n\r\n  titleExerciseSlash.classList.add('exercises-gallery-label');\r\n  titleExerciseSlash.innerHTML = ' / ';\r\n\r\n  exercisesTitle.appendChild(titleExerciseSlash);\r\n  exercisesTitle.appendChild(titleExerciseSpan);\r\n}\r\n\r\nfunction clearExerciseTitle() {\r\n  if (titleExerciseSpan) {\r\n    exercisesTitle.removeChild(titleExerciseSpan);\r\n    exercisesTitle.removeChild(titleExerciseSlash);\r\n    titleExerciseSpan = null;\r\n    closeErrorMessage();\r\n  }\r\n}\r\n\r\nfunction adjustLimit() {\r\n  const widthScreen = document.documentElement.clientWidth;\r\n  if (widthScreen >= 768) {\r\n    return 9;\r\n  }\r\n  return 8;\r\n}\r\n\r\ncloseErrorMessage();\r\nhandleFilter(defaultFilter);\r\n\r\n/*!!!experimental functions: update gap desktop for exercise and workout gallery!!!!*/\r\n\r\nlet previousWidth = window.innerWidth || window.clientWidth;\r\nwindow.addEventListener('load', handleWindowResize);\r\nwindow.addEventListener('resize', () => {\r\n  const currentWidth = window.innerWidth;\r\n\r\n  if (currentWidth !== previousWidth) {\r\n    handleWindowResize();\r\n    previousWidth = currentWidth;\r\n  }\r\n});\r\n\r\nfunction handleWindowResize() {\r\n  const windowWidth = document.documentElement.clientWidth;\r\n  if (windowWidth >= 1440) {\r\n    switch (toggle) {\r\n      case 'filter':\r\n        exercisesGallery.style.rowGap = '40px';\r\n        break;\r\n      case 'workout':\r\n        exercisesGallery.style.rowGap = '28px';\r\n        break;\r\n      default:\r\n        exercisesGallery.style.cssText = '';\r\n    }\r\n  } else {\r\n    exercisesGallery.style.cssText = '';\r\n  }\r\n}\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nconst API_URL = 'https://energyflow.b.goit.study/api/subscription';\r\n\r\nconst form = document.querySelector('.footer-modal-form');\r\n\r\nform.addEventListener('submit', async event => {\r\n  event.preventDefault();\r\n  const { email } = form.elements;\r\n\r\n  try {\r\n    // –í–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–ø–∏—Ç –¥–æ API –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –µ–º–µ–π–ª–∞\r\n    const response = await fetch(API_URL, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email: email.value.trim() }),\r\n    });\r\n\r\n    if (response.ok) {\r\n      // –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É—Å–ø—ñ—à–Ω–∞, —Ç–æ–±—Ç–æ –µ–º–µ–π–ª —â–µ –Ω–µ —ñ—Å–Ω—É—î –≤ –±–∞–∑—ñ\r\n      const userData = {\r\n        email: email.value.trim(),\r\n      };\r\n      iziToast.success({\r\n        position: 'topCenter',\r\n        message: `We're excited to have you on board! üéâ Thank you for subscribing to new exercises on Energy Flow. You've just taken a significant step towards improving your fitness and well-being.`,\r\n        backgroundColor: 'var(--dark-gray-hover)',\r\n        messageColor: 'var(--white-smoke)',\r\n      });\r\n\r\n      console.log(userData);\r\n      form.reset();\r\n    } else {\r\n      // –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–µ —É—Å–ø—ñ—à–Ω–∞, —Ç–æ–±—Ç–æ –µ–º–µ–π–ª –≤–∂–µ —ñ—Å–Ω—É—î –≤ –±–∞–∑—ñ\r\n      iziToast.error({\r\n        position: 'topCenter',\r\n        message: 'This email is already in the subscriber base. Maybe you should use another one',\r\n        backgroundColor: 'var(--dark-gray-hover)',\r\n        messageColor: 'var(--white-smoke)',\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.error('Error POST API:', error.message);\r\n  }\r\n});"],"names":["loader","axios","request","error","response","backToTopBtn","animateScrollTop","distance","audio","iziToast","exercisesTitle","exercisesGallery","filterButton","pageButtonsContainer","titleExerciseSpan","titleExerciseSlash","inputSearchValue","searchExerciseForm","searchButton","svgArrowUrl","svgStarUrl","svgLigthUrl","cardErrorMessage","BASE_URL","page","pageContent","baseURL","urlOptions","workoutCountPages","toggle","defaultFilter","axiosInstance","event","clearExerciseTitle","closeErrorMessage","buttonName","handleWindowResize","handleFilter","cardElement","name","filter","buildWorkoutGallery","renderPagesIcon","clickedButton","buttonValue","changeActivePageButton","selectedFilter","galleryForDesktop","changeFilterColor","apiUrl","fetchExercises","images","renderExercises","imgages","buttons","selectedFilterArray","i","currentButton","fetchUrl","getListExercisesByName","queryParams","res","totalPages","results","openErrorMessage","renderExersisesByName","html","image","ratingRow","ratingStarRow","ratingNumber","id","openModalWindEx","newImages","activePage","pagesMarkup","index","button","cardQueryParams","adjustLimit","cleanAll","rating","row","searchValue","doSearchExercise","title","updateTitle","previousWidth","currentWidth","API_URL","form","email","userData"],"mappings":"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"}